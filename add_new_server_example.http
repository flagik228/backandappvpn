### Примеры запросов для добавления нового VPN-сервера
### Используйте с REST Client (VS Code) или скопируйте в Postman/curl

@baseUrl = http://localhost:8000
# или ваш production URL

### 1. Получить список стран (узнать idCountry для Нидерландов и т.д.)
GET {{baseUrl}}/api/admin/countries

### 2. Добавить страну, если её нет (например Нидерланды)
POST {{baseUrl}}/api/admin/countries
Content-Type: application/json

{
  "nameCountry": "Netherlands"
}

### 3. Получить список типов VPN (узнать idTypeVPN)
GET {{baseUrl}}/api/admin/types

### 4. Добавить новый сервер
POST {{baseUrl}}/api/admin/servers
Content-Type: application/json

{
  "nameVPN": "Netherlands",
  "price_usdt": "0.5",
  "max_conn": 500,
  "server_ip": "REPLACE_WITH_YOUR_SERVER_IP",
  "api_url": "https://REPLACE_WITH_YOUR_SERVER_IP:2053/REPLACE_WITH_YOUR_webBasePath",
  "xui_username": "REPLACE_WITH_YOUR_PANEL_USERNAME",
  "xui_password": "REPLACE_WITH_YOUR_PANEL_PASSWORD",
  "inbound_port": 443,
  "subscription_port": 2096,
  "idTypeVPN": 1,
  "idCountry": 2,
  "is_active": true
}

### 5. Добавить тарифы для нового сервера (server_id = ID из ответа шага 4)
POST {{baseUrl}}/api/admin/tariffs
Content-Type: application/json

{
  "server_id": 2,
  "days": 1,
  "price_tarif": "0.15",
  "is_active": true
}

###
POST {{baseUrl}}/api/admin/tariffs
Content-Type: application/json

{
  "server_id": 2,
  "days": 7,
  "price_tarif": "0.5",
  "is_active": true
}

###
POST {{baseUrl}}/api/admin/tariffs
Content-Type: application/json

{
  "server_id": 2,
  "days": 14,
  "price_tarif": "0.9",
  "is_active": true
}

###
POST {{baseUrl}}/api/admin/tariffs
Content-Type: application/json

{
  "server_id": 2,
  "days": 30,
  "price_tarif": "1.5",
  "is_active": true
}

### 6. Добавить сервер в Bundle Plan (если используете)
### Сначала получите список bundle plans:
GET {{baseUrl}}/api/admin/bundle-plans

### Затем обновите план, добавив server_ids (включая ID нового сервера):
PATCH {{baseUrl}}/api/admin/bundle-plans/1
Content-Type: application/json

{
  "server_ids": [1, 2]
}
